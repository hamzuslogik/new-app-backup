/* =====================================================
   Améliorations des couleurs de texte pour compatibilité
   avec l'arrière-plan
   ===================================================== */

/* Amélioration du contraste pour tous les textes */
h1, h2, h3, h4, h5, h6 {
  color: var(--text-primary, #333333) !important;
}

/* Textes dans les pages */
.page-title,
.fiches-header h1,
.dashboard-header h1,
.page-header h1,
.permissions-header h1,
.management-header h1,
.suivi-header h1 {
  color: #333333 !important;
}

/* Labels dans les formulaires */
label,
.form-group label,
.field-label {
  color: var(--text-primary, #000000) !important;
}

/* Labels dans les filtres de recherche (fond vert clair) */
.search-form label,
.search-form .form-group label,
.search-panel label,
.search-panel .form-group label {
  color: var(--label-color, #065F46) !important; /* Fond vert clair, texte foncé */
}

/* Textes dans les panneaux de recherche (fond vert clair) - mais pas les inputs */
.search-panel,
.search-panel p,
.search-panel span,
.search-panel div:not(.form-group):not(input):not(select):not(textarea),
.search-form p,
.search-form span,
.search-form div:not(.form-group):not(input):not(select):not(textarea) {
  color: var(--label-color, #065F46) !important;
}

/* En-têtes dans les panneaux de recherche */
.search-panel-header,
.search-panel-header *,
.search-panel h1,
.search-panel h2,
.search-panel h3,
.search-panel h4,
.search-panel h5,
.search-panel h6 {
  color: var(--label-color, #065F46) !important;
}

/* Labels dans les modales */
.modal-content label,
.modal-content .form-group label,
.form-content label {
  color: var(--text-primary, #000000) !important;
}

/* Titres de sections */
.section-title,
.form-section h3,
.category-title {
  color: var(--text-primary, #000000) !important;
}

/* Textes dans les tableaux */
table:not(.planning-table):not(.distance-table),
table:not(.planning-table):not(.production-table):not(.distance-table) td,
table:not(.planning-table):not(.production-table):not(.distance-table) th:not(.planning-table th):not(.production-table th):not(.distance-table th) {
  color: var(--text-primary, #333333) !important;
}

/* En-têtes de tableaux avec fond sombre - texte blanc */
.fiches-table thead {
  background: #ffffff !important;
  color: #333333 !important; /* Texte noir sur fond blanc */
}

.stats-table thead {
  background: #ffffff !important;
  color: #333333 !important; /* Texte gris foncé sur fond blanc */
}

.data-table thead,
.production-table thead {
  background: #9cbfc8 !important;
  color: #ffffff !important; /* Toujours blanc sur fond sombre */
}

.suivi-table thead {
  background: #ffffff !important;
  color: #333333 !important; /* Texte noir sur fond blanc */
}

/* Tableau de distance dans le modal - texte blanc */
.distance-modal-content .distance-table thead {
  background: #9cbfc8 !important;
  color: #ffffff !important;
}

.distance-modal-content .distance-table thead th,
.distance-modal-content .distance-table thead th *,
.distance-modal-content .distance-table th,
.distance-modal-content .distance-table th * {
  color: #ffffff !important;
  font-weight: 700 !important;
  background: #9cbfc8 !important;
}

.fiches-table thead *,
.fiches-table thead th,
.fiches-table thead th *,
.fiches-table thead th span,
.fiches-table thead th div,
.fiches-table th,
.fiches-table th *,
.fiches-table th span,
.fiches-table th div {
  color: #333333 !important;
}

.stats-table thead *,
.stats-table thead th,
.stats-table thead th *,
.stats-table thead th span,
.stats-table thead th div,
.stats-table th,
.stats-table th *,
.stats-table th span,
.stats-table th div,
.suivi-table thead *,
.suivi-table thead th,
.suivi-table thead th *,
.suivi-table th,
.suivi-table th * {
  color: #333333 !important;
}

.data-table thead *,
.data-table thead th,
.data-table thead th *,
.data-table th,
.data-table th *,
.production-table thead *,
.production-table thead th,
.production-table thead th *,
.production-table thead th span,
.production-table thead th div,
.production-table th,
.production-table th *,
.production-table th span,
.production-table th div {
  color: #ffffff !important; /* Blanc sur fond sombre */
}

/* En-têtes de tableaux avec fond clair - texte sombre (par défaut) */
table thead:not(.planning-table thead):not(.fiches-table thead):not(.stats-table thead):not(.suivi-table thead):not(.data-table thead):not(.availability-table thead):not(.production-table thead):not(.distance-table thead),
thead:not(.planning-table thead):not(.fiches-table thead):not(.stats-table thead):not(.suivi-table thead):not(.data-table thead):not(.availability-table thead):not(.production-table thead):not(.distance-table thead) {
  background: var(--bg-tertiary, #e9ecef) !important;
  color: #333333 !important; /* Texte sombre sur fond clair */
}

table thead th:not(.planning-table th):not(.fiches-table th):not(.stats-table th):not(.suivi-table th):not(.data-table th):not(.availability-table th):not(.production-table th):not(.distance-table th),
thead th:not(.planning-table th):not(.fiches-table th):not(.stats-table th):not(.suivi-table th):not(.data-table th):not(.availability-table th):not(.production-table th):not(.distance-table th) {
  color: #333333 !important; /* Texte sombre sur fond clair */
}

/* Règle générale : tous les thead avec fond sombre (#9cbfc8) doivent avoir du texte blanc */
thead[style*="background: #9cbfc8"],
thead[style*="background-color: #9cbfc8"],
thead[style*="background:#9cbfc8"],
thead[style*="background-color:#9cbfc8"],
thead[style*="--dark-bg"],
table thead[style*="background: #9cbfc8"],
table thead[style*="background-color: #9cbfc8"] {
  color: #ffffff !important;
}

thead[style*="background: #9cbfc8"] *,
thead[style*="background-color: #9cbfc8"] *,
thead[style*="background:#9cbfc8"] *,
thead[style*="background-color:#9cbfc8"] *,
thead[style*="--dark-bg"] *,
table thead[style*="background: #9cbfc8"] *,
table thead[style*="background-color: #9cbfc8"] * {
  color: #ffffff !important;
}

/* Exception spécifique pour confirmateurs-table */
.confirmateurs-table thead {
  background: #f8f9fa !important;
  color: #333333 !important;
}

.confirmateurs-table th {
  color: #333333 !important;
}

/* Planning table - texte visible */
.planning-table td,
.planning-table .planning-cell,
.planning-table .rdv-item,
.planning-table .rdv-content,
.planning-table .rdv-commercial,
.planning-table .rdv-decalage {
  color: #333333 !important;
}

/* Planning table - en-têtes en blanc (priorité maximale) */
table.planning-table thead,
.planning-table thead,
table.planning-table thead th,
.planning-table thead th,
table.planning-table th,
.planning-table th,
table.planning-table thead *,
.planning-table thead *,
table.planning-table thead th *,
.planning-table thead th *,
table.planning-table th *,
.planning-table th * {
  background: #9cbfc8 !important;
  color: #ffffff !important;
}

/* Production table - en-têtes en blanc (priorité maximale) */
table.production-table thead,
.production-table thead,
table.production-table thead th,
.production-table thead th,
table.production-table th,
.production-table th,
table.production-table thead *,
.production-table thead *,
table.production-table thead th *,
.production-table thead th *,
table.production-table th *,
.production-table th * {
  background: #9cbfc8 !important;
  color: #ffffff !important;
}

.production-table thead *,
.production-table thead th,
.production-table thead th *,
.production-table thead th span,
.production-table thead th div,
.production-table th *,
.production-table th span,
.production-table th div {
  color: #ffffff !important;
}

/* Production table - règles supplémentaires pour surcharger toutes les règles globales */
.production-table thead,
.production-table thead *,
.production-table thead th,
.production-table thead th *,
.production-table thead th span,
.production-table thead th div,
.production-table thead tr,
.production-table thead tr th,
.production-table thead tr th *,
table.production-table thead,
table.production-table thead *,
table.production-table thead th,
table.production-table thead th *,
table.production-table thead tr,
table.production-table thead tr th,
table.production-table thead tr th *,
table.production-table th,
.production-table th {
  color: #ffffff !important;
  background-color: #9cbfc8 !important;
}

/* Appliquer les couleurs de planning-header */
.planning-table thead th:first-child {
  background: var(--filter-bg, #DCFCE7) !important;
  background-color: var(--filter-bg, #DCFCE7) !important;
  border: 1px solid var(--filter-border, #86EFAC) !important;
  color: var(--label-color, #065F46) !important;
}

.planning-table thead th:first-child * {
  color: var(--label-color, #065F46) !important;
}

/* Appliquer le background aux th contenant day-header-planning */
/* Cibler tous les th sauf le premier (qui est "Heure") */
.planning-table thead th:not(:first-child) {
  background: var(--filter-bg, #DCFCE7) !important;
  background-color: var(--filter-bg, #DCFCE7) !important;
  border: 1px solid var(--filter-border, #86EFAC) !important;
}

/* Alternative avec :has() pour plus de précision si supporté */
.planning-table thead th:has(.day-header-planning) {
  background: var(--filter-bg, #DCFCE7) !important;
  background-color: var(--filter-bg, #DCFCE7) !important;
  border: 1px solid var(--filter-border, #86EFAC) !important;
}

.planning-table .day-header-planning {
  background: transparent !important;
  background-color: transparent !important;
  color: var(--label-color, #065F46) !important;
}

.planning-table .day-header-planning *,
.planning-table .day-header-planning span,
.planning-table .day-header-planning div,
.planning-table th .day-header-planning,
.planning-table th .day-header-planning *,
.planning-table th .day-header-planning span {
  color: var(--label-color, #065F46) !important;
  background: transparent !important;
  background-color: transparent !important;
}

.planning-table .time-slot-header,
.planning-table td.time-slot-header,
.planning-table tr td.time-slot-header,
.planning-table tbody td.time-slot-header,
table.planning-table td.time-slot-header {
  background: var(--filter-bg, #DCFCE7) !important;
  background-color: var(--filter-bg, #DCFCE7) !important;
  border: 1px solid var(--filter-border, #86EFAC) !important;
  color: var(--label-color, #065F46) !important;
}

.planning-table .time-slot-header *,
.planning-table td.time-slot-header *,
.time-slot-header * {
  color: var(--label-color, #065F46) !important;
}

/* Availability table - en-têtes en blanc (priorité maximale) */
table.availability-table thead,
.availability-table thead,
table.availability-table thead th,
.availability-table thead th,
table.availability-table th,
.availability-table th,
table.availability-table thead *,
.availability-table thead *,
table.availability-table thead th *,
.availability-table thead th *,
table.availability-table th *,
.availability-table th * {
  background: #9cbfc8 !important;
  color: #ffffff !important;
}

/* Forcer le texte blanc pour les time-slot-header dans availability-table */
.availability-table .time-slot-header,
.availability-table td.time-slot-header,
.availability-table tbody td.time-slot-header,
.availability-table tbody tr td.time-slot-header,
table.availability-table td.time-slot-header,
.availability-table tbody .time-slot-header {
  background: #9cbfc8 !important;
  background-color: #9cbfc8 !important;
  color: #ffffff !important;
  color: rgb(255, 255, 255) !important;
}

.availability-table .time-slot-header *,
.availability-table td.time-slot-header *,
.availability-table td.time-slot-header span,
.availability-table tbody td.time-slot-header *,
.availability-table tbody td.time-slot-header span,
.availability-table tbody tr td.time-slot-header *,
.availability-table tbody tr td.time-slot-header span,
table.availability-table td.time-slot-header *,
table.availability-table td.time-slot-header span {
  color: #ffffff !important;
  color: rgb(255, 255, 255) !important;
}

.availability-table thead *,
.availability-table thead th,
.availability-table thead th *,
.availability-table thead th span,
.availability-table thead th div,
.availability-table th *,
.availability-table th span,
.availability-table th div,
.availability-table .day-header,
.availability-table .day-header *,
.availability-table .day-header span,
.availability-table .day-header div,
.availability-table th .day-header,
.availability-table th .day-header *,
.availability-table th .day-header span {
  color: #ffffff !important;
}

.availability-table .time-slot-header {
  background: #9cbfc8 !important;
  color: #ffffff !important;
}

/* Numéro de semaine visible */
.week-navigation,
.week-navigation *,
.week-navigation .week-info,
.week-navigation .week-info *,
.week-navigation .week-info span,
.planning-week-navigation,
.planning-week-navigation *,
.planning-week-navigation .week-info,
.planning-week-navigation .week-info *,
.planning-week-navigation .week-info span {
  color: #ffffff !important;
}

/* Header du planning hebdomadaire - texte blanc sur fond sombre */
.planning-hebdomadaire-header,
.planning-hebdomadaire-header *,
.planning-hebdomadaire-header span,
.planning-hebdomadaire-header .header-left,
.planning-hebdomadaire-header .header-left *,
.planning-hebdomadaire-header .header-left span,
.planning-hebdomadaire-header .header-right,
.planning-hebdomadaire-header .header-right *,
.planning-hebdomadaire-header .header-right span,
.planning-hebdomadaire-header .header-title,
.planning-hebdomadaire-header .week-dates,
.header-left,
.header-left *,
.header-left span,
.header-right,
.header-right *,
.header-right span,
.header-title,
.week-dates {
  color: #ffffff !important;
}

/* Header affectation par département - texte blanc sur fond sombre */
.affectation-dep-header,
.affectation-dep-header *,
.affectation-dep-header span,
.affectation-dep-header .header-left,
.affectation-dep-header .header-left *,
.affectation-dep-header .header-left span,
.affectation-dep-header .header-right,
.affectation-dep-header .header-right *,
.affectation-dep-header .header-right span,
.affectation-dep-header h1,
.affectation-dep-header .week-dates {
  color: #ffffff !important;
}

/* Règle générale : tous les éléments avec fond sombre (#9cbfc8) doivent avoir du texte blanc */
[style*="background: #9cbfc8"],
[style*="background-color: #9cbfc8"],
[style*="background:#9cbfc8"],
[style*="background-color:#9cbfc8"] {
  color: #ffffff !important;
}

/* Tous les éléments avec classe ou style contenant dark-bg */
[class*="dark-bg"],
[style*="--dark-bg"] {
  color: #ffffff !important;
}

/* Textes secondaires */
.text-secondary,
.subtitle,
.description {
  color: var(--text-secondary, #666666) !important;
}

/* Textes dans les cartes */
.card,
.stat-card {
  background: var(--bg-primary, #ffffff) !important;
  color: var(--text-primary, #333333) !important;
}

.stat-card-value {
  color: var(--text-primary, #9cbfc8) !important;
}

.stat-card-label {
  color: var(--text-secondary, #666666) !important;
}

/* Textes dans les résultats */
.results-count,
.results-header h2 {
  color: var(--text-primary, #9cbfc8) !important;
}

/* Textes dans les badges et étiquettes */
.badge,
.status-badge {
  color: #ffffff !important; /* Toujours blanc sur fond coloré */
}

/* Textes dans les inputs */
input,
textarea,
select {
  color: var(--text-primary, #333333) !important;
  background: var(--bg-primary, #ffffff) !important;
}

/* Placeholders */
input::placeholder,
textarea::placeholder {
  color: var(--text-muted, #999999) !important;
}

/* Textes dans les onglets */
.tab-header h2 {
  color: var(--text-primary, #333333) !important;
}

/* Textes dans les listes */
ul li,
ol li {
  color: var(--text-primary, #333333) !important;
}

/* Textes dans les paragraphes */
p {
  color: var(--text-primary, #333333) !important;
}

/* Textes dans les spans */
span:not(.badge):not(.status-badge):not(.sidebar-link span):not(.planning-table thead span):not(.planning-table th span):not(.planning-table thead th span):not(.planning-table .time-slot-header):not(.planning-table td.time-slot-header):not(.planning-table td.time-slot-header span):not(.planning-table td.time-slot-header *):not(.availability-table thead span):not(.availability-table th span):not(.availability-table .time-slot-header):not(.availability-table td.time-slot-header):not(.availability-table td.time-slot-header span):not(.availability-table td.time-slot-header *):not(.availability-table tbody td.time-slot-header):not(.availability-table tbody td.time-slot-header span):not(.availability-table tbody td.time-slot-header *):not(.week-navigation span):not(.week-navigation * span):not(.planning-week-navigation span):not(.planning-week-navigation * span):not(.user-info span):not(.user-info * span):not(.header .user-info span):not(.header .user-info * span):not(.fiches-table thead span):not(.fiches-table thead th span):not(.fiches-table th span):not(.stats-table thead span):not(.stats-table thead th span):not(.stats-table th span):not(.suivi-table thead span):not(.suivi-table thead th span):not(.suivi-table th span):not(.data-table thead span):not(.data-table thead th span):not(.data-table th span):not(.planning-hebdomadaire-header span):not(.planning-hebdomadaire-header * span):not(.affectation-dep-header span):not(.affectation-dep-header * span):not(.header-left span):not(.header-right span):not(.header-title):not(.week-dates) {
  color: var(--text-primary, #333333) !important;
}

/* Exception pour les spans dans la sidebar */
.sidebar span,
.sidebar-link span {
  color: #ffffff !important;
}

/* Amélioration du contraste pour les liens */
a {
  color: var(--primary-color, #9cbfc8) !important;
}

a:hover {
  color: var(--secondary-color, #4a7a87) !important;
}

/* Exception pour les liens dans la sidebar - toujours blancs */
.sidebar a,
.sidebar .sidebar-link,
.sidebar .sidebar-link *,
.sidebar .sidebar-link span {
  color: #ffffff !important;
}

/* Textes dans les messages d'erreur et de succès */
.error-message {
  color: var(--danger-color, #dc3545) !important;
}

.success-message {
  color: var(--success-color, #28a745) !important;
}

/* Amélioration du contraste minimum (WCAG AA) */
/* Ratio de contraste minimum de 4.5:1 pour le texte normal */
/* Ratio de contraste minimum de 3:1 pour le texte large */

/* ======================================== */
/* PRODUCTION TABLE - PRIORITÉ ABSOLUE     */
/* Forcer le texte blanc dans thead        */
/* Cette règle doit surcharger TOUTES les  */
/* autres règles, même celles avec :not()  */
/* ======================================== */
.production-table thead,
.production-table thead *,
.production-table thead th,
.production-table thead th *,
.production-table thead th span,
.production-table thead th div,
.production-table thead tr,
.production-table thead tr th,
.production-table thead tr th *,
table.production-table thead,
table.production-table thead *,
table.production-table thead th,
table.production-table thead th *,
table.production-table thead tr,
table.production-table thead tr th,
table.production-table thead tr th *,
table.production-table th,
.production-table th {
  color: #ffffff !important;
  background-color: #9cbfc8 !important;
}

/* ======================================== */
/* FICHES-TABLE ET SUIVI-TABLE - PRIORITÉ  */
/* ABSOLUE - Forcer le texte blanc         */
/* ======================================== */
table.fiches-table thead,
table.fiches-table thead *,
table.fiches-table thead th,
table.fiches-table thead th *,
table.fiches-table thead th span,
table.fiches-table thead th div,
table.fiches-table thead tr,
table.fiches-table thead tr th,
table.fiches-table thead tr th *,
.fiches-table thead,
.fiches-table thead *,
.fiches-table thead th,
.fiches-table thead th *,
.fiches-table thead th span,
.fiches-table thead th div,
.fiches-table thead tr,
.fiches-table thead tr th,
.fiches-table thead tr th *,
.fiches-table th {
  color: #333333 !important;
  background-color: #ffffff !important;
}

table.suivi-table thead,
table.suivi-table thead *,
table.suivi-table thead th,
table.suivi-table thead th *,
table.suivi-table thead th span,
table.suivi-table thead th div,
table.suivi-table thead tr,
table.suivi-table thead tr th,
table.suivi-table thead tr th *,
.suivi-table thead,
.suivi-table thead *,
.suivi-table thead th,
.suivi-table thead th *,
.suivi-table thead th span,
.suivi-table thead th div,
.suivi-table thead tr,
.suivi-table thead tr th,
.suivi-table thead tr th *,
.suivi-table th {
  color: #333333 !important;
  background-color: #ffffff !important;
}
